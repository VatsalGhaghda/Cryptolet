{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ASUS\\\\OneDrive\\\\Desktop\\\\PEDALS  UP\\\\Cryptolet\\\\cryptolet\\\\src\\\\components\\\\CreateAccount.js\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport { Button, Card, Input } from \"antd\";\nimport { ExclamationCircleOutlined } from \"@ant-design/icons\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useState } from \"react\";\nimport { ethers } from \"ethers\";\nimport { toast } from 'react-toastify';\nimport { encryptData } from '../utils/passwordManager';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction CreateAccount({\n  setWallet,\n  setSeedPhrase\n}) {\n  _s();\n  const [newSeedPhrase, setNewSeedPhrase] = useState(null);\n  const [password, setPassword] = useState(\"\");\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n  const [showSeedPhrase, setShowSeedPhrase] = useState(false);\n  const navigate = useNavigate();\n  function generateWallet() {\n    if (!password || !confirmPassword) {\n      toast.error(\"Please enter and confirm your password\");\n      return;\n    }\n    if (password !== confirmPassword) {\n      toast.error(\"Passwords don't match!\");\n      return;\n    }\n    if (password.length < 8) {\n      toast.error(\"Password must be at least 8 characters!\");\n      return;\n    }\n    const mnemonic = ethers.Wallet.createRandom().mnemonic.phrase;\n    setNewSeedPhrase(mnemonic);\n    setShowSeedPhrase(true);\n  }\n  function setWalletAndMnemonic() {\n    if (!newSeedPhrase) return;\n    const walletData = {\n      seedPhrase: newSeedPhrase,\n      wallet: ethers.Wallet.fromPhrase(newSeedPhrase).address,\n      hashedPassword: btoa(password)\n    };\n    try {\n      // Encrypt the wallet data\n      const encryptedData = encryptData(walletData, password);\n      localStorage.setItem('encryptedWalletData', encryptedData);\n      setSeedPhrase(newSeedPhrase);\n      setWallet(ethers.Wallet.fromPhrase(newSeedPhrase).address);\n      toast.success(\"Wallet created successfully!\");\n    } catch (error) {\n      toast.error(\"Error creating wallet. Please try again.\");\n      console.error(\"Wallet creation error:\", error);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mnemonic\",\n        children: [/*#__PURE__*/_jsxDEV(ExclamationCircleOutlined, {\n          style: {\n            fontSize: \"20px\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"Create a password to secure your wallet. Save your seed phrase securely to recover your wallet if you forget your password.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), !showSeedPhrase ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Input.Password, {\n          placeholder: \"Create password (min 8 characters)\",\n          value: password,\n          onChange: e => setPassword(e.target.value),\n          style: {\n            width: \"90%\",\n            marginBottom: \"20px\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Input.Password, {\n          placeholder: \"Confirm password\",\n          value: confirmPassword,\n          onChange: e => setConfirmPassword(e.target.value),\n          style: {\n            width: \"90%\",\n            marginBottom: \"20px\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          className: \"frontPageButton\",\n          type: \"primary\",\n          onClick: () => generateWallet(),\n          children: \"Create Wallet\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Card, {\n          className: \"seedPhraseContainer\",\n          children: newSeedPhrase && /*#__PURE__*/_jsxDEV(\"pre\", {\n            style: {\n              whiteSpace: \"pre-wrap\"\n            },\n            children: newSeedPhrase\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          className: \"frontPageButton\",\n          type: \"default\",\n          onClick: () => setWalletAndMnemonic(),\n          children: \"Open Your New Wallet\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"frontPageBottom\",\n        onClick: () => navigate(\"/\"),\n        children: \"Back Home\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n_s(CreateAccount, \"uXycDkWbZXKJwN+e8gg5g5Axd3s=\", false, function () {\n  return [useNavigate];\n});\n_c = CreateAccount;\nexport default CreateAccount;\nvar _c;\n$RefreshReg$(_c, \"CreateAccount\");","map":{"version":3,"names":["React","Button","Card","Input","ExclamationCircleOutlined","useNavigate","useState","ethers","toast","encryptData","jsxDEV","_jsxDEV","Fragment","_Fragment","CreateAccount","setWallet","setSeedPhrase","_s","newSeedPhrase","setNewSeedPhrase","password","setPassword","confirmPassword","setConfirmPassword","showSeedPhrase","setShowSeedPhrase","navigate","generateWallet","error","length","mnemonic","Wallet","createRandom","phrase","setWalletAndMnemonic","walletData","seedPhrase","wallet","fromPhrase","address","hashedPassword","btoa","encryptedData","localStorage","setItem","success","console","children","className","style","fontSize","fileName","_jsxFileName","lineNumber","columnNumber","Password","placeholder","value","onChange","e","target","width","marginBottom","type","onClick","whiteSpace","_c","$RefreshReg$"],"sources":["C:/Users/ASUS/OneDrive/Desktop/PEDALS  UP/Cryptolet/cryptolet/src/components/CreateAccount.js"],"sourcesContent":["import React from \"react\";\r\nimport { Button, Card, Input } from \"antd\";\r\nimport { ExclamationCircleOutlined } from \"@ant-design/icons\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useState } from \"react\";\r\nimport { ethers } from \"ethers\";\r\nimport { toast } from 'react-toastify';\r\nimport { encryptData } from '../utils/passwordManager';\r\n\r\nfunction CreateAccount({setWallet, setSeedPhrase}) {\r\n  const [newSeedPhrase, setNewSeedPhrase] = useState(null);\r\n  const [password, setPassword] = useState(\"\");\r\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\r\n  const [showSeedPhrase, setShowSeedPhrase] = useState(false);\r\n  const navigate = useNavigate();\r\n\r\n  function generateWallet(){\r\n    if (!password || !confirmPassword) {\r\n      toast.error(\"Please enter and confirm your password\");\r\n      return;\r\n    }\r\n    if (password !== confirmPassword) {\r\n      toast.error(\"Passwords don't match!\");\r\n      return;\r\n    }\r\n    if (password.length < 8) {\r\n      toast.error(\"Password must be at least 8 characters!\");\r\n      return;\r\n    }\r\n\r\n    const mnemonic = ethers.Wallet.createRandom().mnemonic.phrase;\r\n    setNewSeedPhrase(mnemonic);\r\n    setShowSeedPhrase(true);\r\n  }\r\n\r\n  function setWalletAndMnemonic(){\r\n    if (!newSeedPhrase) return;\r\n\r\n    const walletData = {\r\n      seedPhrase: newSeedPhrase,\r\n      wallet: ethers.Wallet.fromPhrase(newSeedPhrase).address,\r\n      hashedPassword: btoa(password)\r\n    };\r\n\r\n    try {\r\n      // Encrypt the wallet data\r\n      const encryptedData = encryptData(walletData, password);\r\n      localStorage.setItem('encryptedWalletData', encryptedData);\r\n\r\n      setSeedPhrase(newSeedPhrase);\r\n      setWallet(ethers.Wallet.fromPhrase(newSeedPhrase).address);\r\n      \r\n      toast.success(\"Wallet created successfully!\");\r\n    } catch (error) {\r\n      toast.error(\"Error creating wallet. Please try again.\");\r\n      console.error(\"Wallet creation error:\", error);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"content\">\r\n        <div className=\"mnemonic\">\r\n          <ExclamationCircleOutlined style={{ fontSize: \"20px\" }} />\r\n          <div>\r\n            Create a password to secure your wallet. Save your seed phrase securely to recover your wallet if you forget your password.\r\n          </div>\r\n        </div>\r\n\r\n        {!showSeedPhrase ? (\r\n          <>\r\n            <Input.Password\r\n              placeholder=\"Create password (min 8 characters)\"\r\n              value={password}\r\n              onChange={(e) => setPassword(e.target.value)}\r\n              style={{ width: \"90%\", marginBottom: \"20px\" }}\r\n            />\r\n            <Input.Password\r\n              placeholder=\"Confirm password\"\r\n              value={confirmPassword}\r\n              onChange={(e) => setConfirmPassword(e.target.value)}\r\n              style={{ width: \"90%\", marginBottom: \"20px\" }}\r\n            />\r\n            <Button\r\n              className=\"frontPageButton\"\r\n              type=\"primary\"\r\n              onClick={() => generateWallet()}\r\n            >\r\n              Create Wallet\r\n            </Button>\r\n          </>\r\n        ) : (\r\n          <>\r\n            <Card className=\"seedPhraseContainer\">\r\n              {newSeedPhrase && <pre style={{whiteSpace: \"pre-wrap\"}}>{newSeedPhrase}</pre>}\r\n            </Card>\r\n            <Button\r\n              className=\"frontPageButton\"\r\n              type=\"default\"\r\n              onClick={() => setWalletAndMnemonic()}\r\n            >\r\n              Open Your New Wallet\r\n            </Button>\r\n          </>\r\n        )}\r\n        \r\n        <p className=\"frontPageBottom\" onClick={()=>navigate(\"/\")}>\r\n          Back Home\r\n        </p>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default CreateAccount;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}